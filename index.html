<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-how-to-use-cmake-with-git-to-easily-use-external-library" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/09/how-to-use-cmake-with-git-to-easily-use-external-library/" class="article-date">
  <time datetime="2017-04-09T08:43:00.000Z" itemprop="datePublished">2017-04-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/09/how-to-use-cmake-with-git-to-easily-use-external-library/">如何利用CMake跟git來輕易的使用外部Library</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/09/how-to-use-cmake-with-git-to-easily-use-external-library/" data-id="cj3b76vpv0012hzsi27hqx29j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-trick-burst-attack-test" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/13/python-trick-burst-attack-test/" class="article-date">
  <time datetime="2017-02-13T01:30:00.000Z" itemprop="datePublished">2017-02-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/13/python-trick-burst-attack-test/">Python Trick : Burst Attack Test</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/13/python-trick-burst-attack-test/" data-id="cj3b76vpu0011hzsibaug3taq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-most-vexing-parsingc" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/02/03/most-vexing-parsingc/" class="article-date">
  <time datetime="2016-02-02T19:39:00.000Z" itemprop="datePublished">2016-02-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/03/most-vexing-parsingc/">Most Vexing Parsing(C++)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我在寫Daemonizer(註一)的時候，碰到了一個很奇怪的語法錯誤</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ifstream f(this-&gt;pid_file_name());</div><div class="line">string content(istreambuf_iterator&lt;char&gt;(f), istreambuf_iterator&lt;char&gt;());</div><div class="line">pid_t pid = stoi(content);</div></pre></td></tr></table></figure>
<p>他會跑出error，聲稱content是一個function所以無法當做stoi的引數。然而，要是這種傳法就能work </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">content</span><span class="params">(<span class="string">"123"</span>)</span></span>;</div><div class="line"><span class="comment">// OR</span></div><div class="line"><span class="built_in">string</span> content = <span class="built_in">string</span>(istreambuf_iterator&lt;<span class="keyword">char</span>&gt;(f), istreambuf_iterator&lt;<span class="keyword">char</span>&gt;());</div></pre></td></tr></table></figure>
<p>這錯誤的主要成因是，第一個例子中的<code>string content(istreambuf_iterator&lt;char&gt;(f), istreambuf_iterator&lt;char&gt;());</code>被錯誤的當成了function prototype（話說，哪個use case會要在函數本體內宣告另外一個函數的prototype?）。這種情況叫做<a href="https://en.wikipedia.org/wiki/Most_vexing_parse" target="_blank" rel="external">Most vexing parse</a></p>
<p>C++11提供了一個<a href="https://mbevin.wordpress.com/2012/11/16/uniform-initialization" target="_blank" rel="external">統一初始化方法</a>，也就是說，你用一個大括號把它包起來，他就一定會被認為是個物件初始化，而不是一個function prototype。C++11以前的話，只能再多一組括號把它包起來。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//C++11</div><div class="line">string content&#123;istreambuf_iterator&lt;char&gt;(f), istreambuf_iterator&lt;char&gt;()&#125;;</div><div class="line">//C++11以前的方法</div><div class="line">string content( (istreambuf_iterator&lt;char&gt;(f), istreambuf_iterator&lt;char&gt;()) );</div></pre></td></tr></table></figure>
<p>真是個討人厭的慣例啊（抓頭）….</p>
<p>(註一) 一個類似daemon的linux application，但是他是code層級，你只要繼承他，他就會幫你搞定所有Daemonize的事情</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/02/03/most-vexing-parsingc/" data-id="cj3b76vpt0010hzsi3a9arqxh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-markdown-text-color-support" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/08/23/markdown-text-color-support/" class="article-date">
  <time datetime="2015-08-23T03:22:00.000Z" itemprop="datePublished">2015-08-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/23/markdown-text-color-support/">Markdown文字色彩支援</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Markdown一個最麻煩的地方就是缺乏文字色彩的原生支援。之前查了網頁，10個裡面有8個說沒有，兩個說用css。但是後來我想起來Markdown本身就有原生支援html語法，那就簡單了…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">我們要把&lt;font color=&quot;red&quot;&gt;文字&lt;/font&gt;&lt;font color=&quot;blue&quot;&gt;變成&lt;/font&gt;&lt;font color=&quot;green&quot;&gt;彩色&lt;/font&gt;</div></pre></td></tr></table></figure>
<p>我們要把<font color="red">文字</font><font color="blue">變成</font><font color="green">彩色</font></p>
<p>恩，其實滿直覺的，怎麼一開始沒想到這招囧…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/23/markdown-text-color-support/" data-id="cj3b76vpr000zhzsi07gtv35s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-starry-sky" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/08/16/starry-sky/" class="article-date">
  <time datetime="2015-08-16T05:45:00.000Z" itemprop="datePublished">2015-08-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/16/starry-sky/">Starry Sky</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/16/starry-sky/" data-id="cj3b76vpp000xhzsibq670h2e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-create-your-own-pgp-digital-signature" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/26/create-your-own-pgp-digital-signature/" class="article-date">
  <time datetime="2015-07-26T04:46:00.000Z" itemprop="datePublished">2015-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/26/create-your-own-pgp-digital-signature/">創造一個自己的PGP電子簽章</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##為什麼要電子簽章</p>
<p>電子簽章是用來確認這封信真的是你發的。以目前的電子郵件來講，尤其是企業內部，我們有時候會碰到以下這種</p>
<p>##建立PGP電子簽章</p>
<p>指令其實滿簡單的，就是<code>gpg --gen-key</code>。不過強烈建議不要在遠端server做這件事情，尤其是沒啥人用的遠端server(比方說自己租用的VPS)。當然，真的要做也不是不行，下面會有一些註解。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/26/create-your-own-pgp-digital-signature/" data-id="cj3b76vpl000whzsircisl6jp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sourceforge-bundled-third-party-software-causes-serious-disputes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/15/sourceforge-bundled-third-party-software-causes-serious-disputes/" class="article-date">
  <time datetime="2015-06-14T21:05:00.000Z" itemprop="datePublished">2015-06-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/15/sourceforge-bundled-third-party-software-causes-serious-disputes/">SourceForge綑綁第三方軟體引發嚴重爭議</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在幾天以前，<a href="http://sf.net" target="_blank" rel="external">SourceForge</a>啟動了一項頗具爭議性的政策 : 他們擅自「接管」了一些他們認為「被遺棄」的，本來在SourceForge host的軟體，重新包裝了installer並且植入了第三方軟體，比方說惡名昭彰的MacKeeper等等。</p>
<p>在GitHub崛起以前，SourceForge一直是大多數開源軟體首選的host地點，就好像我們的OpenFoundary一樣。然而在GitHub等等免費託管服務越來越盛行的同時，SourceForge也有越來越多的使用者改用GitHub，而SourceForge上面的軟體就比較沒有在更新了。</p>
<p>在幾天前，SourceForge擅自對「被認定遺棄」的軟體做了一些調整，他們重新包裝了這些專案的installer，暗地在裡面放入了臃腫或者廣告軟體。最早發現這事情的專案擁有者是Gimp for Windows，這引發了開源社群的全面…暴怒(該用這個形容詞嗎)，比分說NotePad++作者就憤怒地把專案完全從SourceFor遷出去。</p>
<blockquote>
<p>Obviously, the paid component per installation system is one of their important income generating scams. I would be fine with that, if they were the actual owners of the legitimate software. The real problem is, they are polluting these open source software installations for the purpose of filling their pockets by this scam, and worst of all, without even notifying the authors/creators of this software, while the creators are struggling against such parasitic software in order to keep their installers cleaner and safer.</p>
</blockquote>
<p>顯然這些付費嵌入的程式，是他們一個很重要的收入 - 以及詐騙的來源。老實講，如果嵌入者是這些專案的擁有者，我還不會那麼在意。真正的問題是，他們正在污染整個open source的軟體，靠這些根本是詐欺的手段去填滿他們的錢包，而且更糟糕的是，甚至連致力於對抗以及清除問題軟體，讓專案installer更安全的專案擁有者都不通知一聲。</p>
<blockquote>
<p>Such a shameless policy should be condemned, and the Notepad++ project will move entirely out of SourceForge.</p>
</blockquote>
<p>這種無恥的行徑應該要被強烈譴責，我宣布Notepad++將完全移出SourceForge。</p>
<p>其實SourceForge做這種事也不是第一天了，以前他們會在某些Windows Installer在有知會開發者的前提下綑綁軟體。不過，明目張膽的「接管」他們認定「被遺棄」的軟體來玩這套，倒是真正的引發了眾怒。</p>
<p>SourceForge知道了這事情的嚴重性，在6/3宣告停止這種行為(除非開發者允許)。不過看起來這次SourceForge對開發者來講，損失的信心恐怕很難再回來了。</p>
<p>延伸閱讀：<a href="http://arstechnica.com/information-technology/2015/06/black-mirror-sourceforge-has-now-siezed-nmap-audit-tool-project/" target="_blank" rel="external">他連NMAP都敢動耶!</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/06/15/sourceforge-bundled-third-party-software-causes-serious-disputes/" data-id="cj3b76vpq000yhzsibm1xpbtr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-oauth-with-android" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/12/oauth-with-android/" class="article-date">
  <time datetime="2015-04-12T04:40:00.000Z" itemprop="datePublished">2015-04-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/12/oauth-with-android/">舊文回收:OAuth with Android</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>這篇是我兩三年前寫在Levitation的blogspot，由於排版很爛，所以回收到這裏重新用Markdown寫一次</p>
<p>###淺談OAuth in Android – 以Plurk為例子<br>OAuth是目前比較熱門的認證機制之一，他有個最大的好處就在於完全不需要在client端輸入賬號密碼，這部分完全會由web端完成。不過，他機制非常的複雜，有些地方做的讓人覺得很龜毛，所以我們在這篇只要淺談就好，其他的部分我會介紹一個函式庫來把它完成。</p>
<p>這邊有一篇非常不錯的<a href="http://cire.pixnet.net/blog/post/30810748-漫談oauth認證協定與運作流程" target="_blank" rel="external">OAuth機制介紹</a>，有興趣的朋友可以看看。太細節部分的工作原理我們就不涉足了，我們專心看看最基本的認證步驟</p>
<ol>
<li>app開發者跟網站註冊取得API Key跟API Secret</li>
<li>開始認證的時候，用這組key/secret/callback(<em>1)跟網站要一個Request Token(</em>2)</li>
<li>用這組Request Token, callback組合成一個網址，讓使用者進入該網址認證。</li>
<li>認證成功以後會傳回一個oauth_verifier，通常是一個很好閱讀的字串或者數字</li>
<li>app端把這組verifier，以及request key跟網站取得半永久性的Access Token(*2)</li>
<li>往後對這個網站任何要求（比方說，plurk來講，取得時間軸）使用這個Token即可，app把它存起來備用，就不需要重新跟網站申請認證了。</li>
</ol>
<p>這幾個步驟其實相當的繁瑣，尤其是對網站要求每次都要做一個全面性的Parameter Sign的動作，裡面牽涉的東西對一個初學者來講真是煩人到爆炸。當然，就會有人會寫一組library來解決這問題:我們今天介紹的就是oauth-signpost library。</p>
<p>基本的取得jar，放進project，設定buildpath這些基礎到爆的東西我們就不討論了。首先，我們要先去Plurk申請一組API Key來作為我們的開發用途。所以我們就有了API Key/Secret了。接下來，回到Plurk API介紹的頁面，他提供了幾個網址供OAuth使用。基本上這些分別是幹嘛的我們就不予深究了，我們只要知道她是要怎麼用。</p>
<p>signpost我們會用到根OAuth有關的一共有兩個部分：OAuthConsumer代表的是我們APP端的所有資料，包含Access Token等等（不過她好像沒幫你存，你要自己存），而OAuthProvider則是代表網站的OAuth認證部分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">static final String PLURK_REQUEST_URL = &quot;http://www.plurk.com/OAuth/request_token&quot;;</div><div class="line">static final String PLURK_AUTHORIZATION_URL = &quot;http://www.plurk.com/m/authorize&quot;;</div><div class="line">static final String PLURK_ACCESS_URL = &quot;http://www.plurk.com/OAuth/access_token&quot;;</div><div class="line">static final String PLURK_CALLBACK_URL = &quot;myplurk:///&quot;;</div><div class="line">static final String PLURK_CONSUMER_KEY = &quot;你的API Key&quot;;</div><div class="line">static final String PLURK_CONSUMER_SECRET = &quot;你的API Secret&quot;;</div></pre></td></tr></table></figure>
<p>我們先把這些東西設定變數，等等會用到。接下來我們設定Provider跟Consumer</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mainConsumer = new DefaultOAuthConsumer(PLURK_CONSUMER_KEY, PLURK_CONSUMER_SECRET);</div><div class="line">mainProvider = new DefaultOAuthProvider(PLURK_REQUEST_URL, PLURK_ACCESS_URL, PLURK_AUTHORIZATION_URL);</div></pre></td></tr></table></figure>
<p>ok，那所有東西差不多就完成了。我們要讓使用者認證的時候，只要開一個url，載入provider提供的url :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String url = mainProvider.retrieveRequestToken(mainConsumer, PLURK_CALLBACK_URL);</div></pre></td></tr></table></figure>
<p>利用webview打開這個以後，把webview設定一個WebViewClient，然後override它的link click</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">private class AuthClient extends WebViewClient &#123;</div><div class="line"> </div><div class="line"> </div><div class="line">  @Override</div><div class="line"> public void onPageStarted(WebView view, String url, Bitmap favicon) &#123;</div><div class="line">  super.onPageStarted(view, url, favicon);</div><div class="line"> &#125;</div><div class="line">  @Override</div><div class="line"> public void onPageFinished(WebView view, String url) &#123;</div><div class="line">  super.onPageFinished(view, url);</div><div class="line"> &#125;</div><div class="line">  @Override</div><div class="line"> public boolean shouldOverrideUrlLoading(WebView view, String urlString) &#123;</div><div class="line"> </div><div class="line"> Log.d(&quot;SubPlurkV2&quot;, &quot;url : &quot; + urlString);</div><div class="line"> if(urlString.contains(&quot;subplurkv2&quot;)) &#123;</div><div class="line"> Uri url = Uri.parse(urlString);</div><div class="line"> String verifier = url.getQueryParameter(&quot;oauth_verifier&quot;);</div><div class="line"> try &#123;</div><div class="line"> SystemManager.getInst().getAuthManager().aquireAccessToken(verifier);</div><div class="line"> &#125; catch (Exception e) &#123;</div><div class="line"> // TODO Auto-generated catch block</div><div class="line"> e.printStackTrace();</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> finish();</div><div class="line"> &#125;</div><div class="line">  return super.shouldOverrideUrlLoading(view, urlString);</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>然後我們可以取得verifier，利用這個取得Access Token<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mainProvider.retrieveAccessToken(mainConsumer, verifier);</div><div class="line">Log.d(&quot;SubPlurkV2&quot;, &quot;Token = &quot; + mainConsumer.getToken() + &quot; and secret = &quot; + mainConsumer.getTokenSecret());</div></pre></td></tr></table></figure></p>
<p>把這祖Token記錄起來，以後會用到。最後，我們來試試看最簡單地拿取時間軸吧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mainConsumer.setAccessToken(&quot;U5GNYyH6wVGS&quot;, &quot;aCtJ9XVgNTeIpigq3qxsLi70Sv0HbA6h&quot;);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">URL url = new URL(&quot;http://www.plurk.com/APP/Timeline/getPlurks&quot;);</div><div class="line">HttpURLConnection request = (HttpURLConnection) url.openConnection();</div><div class="line">request.setDoOutput(true);</div><div class="line">request.setRequestMethod(&quot;POST&quot;);</div><div class="line">mainConsumer.sign(request);</div><div class="line">request.connect();</div><div class="line">String context = StreamUtil.InputStreamToString(request.getInputStream());</div><div class="line">Log.d(&quot;SubPlurkV2&quot;, &quot;&quot; + context);</div></pre></td></tr></table></figure>
<p>have fun! 參考plunk api list繼續實做其他的api吧!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/04/12/oauth-with-android/" data-id="cj3b76vpk000vhzsi1nuklnw7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-redmine-settings" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/30/redmine-settings/" class="article-date">
  <time datetime="2015-03-30T12:13:00.000Z" itemprop="datePublished">2015-03-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/30/redmine-settings/">Redmine設定(Digital Ocean, Docker)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>花了一點時間搞定了Redmine，眉眉角角還挺多的。</p>
<p>首先我省麻煩，直接從Digital Ocean租一個最便宜的5USD/mo的instance應該是夠的(Digital Ocean的Redmine image似乎有最佳化過，我在Linode的1G instance都build不起來，但是在DO不用Build，直接在0.5G可以裝起來的)<br><img src="http://user-image.logdown.io/user/2167/blog/2169/post/258922/Ugiaden4Qiy80YGdlJ31_Screen%20Shot%202015-03-31%20at%204.15.18%20AM.png" alt="Screen Shot 2015-03-31 at 4.15.18 AM.png"></p>
<p>選他的Redmine image，其實熟手的話直接用Docker裝也是可以的。<br><img src="http://user-image.logdown.io/user/2167/blog/2169/post/258922/4gYyX1QPq3aJsqWlWtDA_Screen%20Shot%202015-03-31%20at%204.18.43%20AM.png" alt="Screen Shot 2015-03-31 at 4.18.43 AM.png"></p>
<p>接下來大家都很熟，DO會寄信給你告訴你Root帳號密碼。Login以後還會多一行字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">-------------------------------------------------------------------------------------</div><div class="line">These instructions are stored in /root/REDMINE for your review.</div><div class="line">-------------------------------------------------------------------------------------</div><div class="line">To finish installing Redmine, navigate to your droplet&apos;s IP: http://123.456.22.11 and use credentials from below.</div><div class="line">-------------------------------------------------------------------------------------</div><div class="line">User: admin</div><div class="line">Pass: CIdAcEEkcC(當然這是改過的)</div><div class="line">-------------------------------------------------------------------------------------</div><div class="line">Make sure to specify hostname from DO panel to your droplet before creating it (for example: &apos;project.mydomain.com&apos; or &apos;myproject.com&apos;)</div><div class="line">This will create the necessary Nginx configs based on hostname and Nginx will respond based on hostname.</div><div class="line">-------------------------------------------------------------------------------------</div></pre></td></tr></table></figure>
<p>基本上已Redmine來講這樣就好了。但是如果我們自己有DNS用CNAME連過去的話會發現，他永遠處於「沒裝好」的狀態。這時候就得改<code>/etc/nginx/sites-enabled/redmine</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">        listen 80;</div><div class="line">        server_name 104.236.144.91 redmine.rayer.idv.tw;</div><div class="line"></div><div class="line">        root /srv/redmine/public;</div><div class="line">        passenger_enabled on;</div><div class="line"></div><div class="line">        client_max_body_size 10m;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>server_name要放入正確的CNAME，這樣redmine才能夠正確的讀取到。</p>
<p>接下來就是安裝git。先在本機端把git裝起來<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install git</div></pre></td></tr></table></figure></p>
<p>然後要去redmine的設定檔裡面更新git路徑。我們可以從上面的redmine nginx設定檔看到，他root在<code>/srv/redmine/public</code>，不過我們要去他的設定目錄<code>/srv/redmine/config/</code>改他的configuration.yml。不過，沒這檔案…請<code>cp configuration.yml.example configuration.yml</code>，幫他把git路徑補起來<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scm_git_command:	/usr/bin/git</div></pre></td></tr></table></figure></p>
<p>最後重開nginx，收工。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service nginx restart</div></pre></td></tr></table></figure></p>
<p>基本上用Docker就更簡單了，我本來還在想要不要包一個docker image來用，不過網路上已經有人包好了 (<a href="https://github.com/sameersbn/docker-redmine" target="_blank" rel="external">https://github.com/sameersbn/docker-redmine</a> )</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/03/30/redmine-settings/" data-id="cj3b76vpj000uhzsi1dohmq78" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-for-some-stupid-memories" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/02/for-some-stupid-memories/" class="article-date">
  <time datetime="2014-12-02T08:07:00.000Z" itemprop="datePublished">2014-12-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/02/for-some-stupid-memories/">一段白爛往事</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天看到有人在討論版上討論，關於一個雙層for迴圈該怎麼最佳化的問題。我每次看到這個問題都會想到這個往事….</p>
<p>「誒某R，我把某段Code最佳化了，我把時間複雜度從O(n^2)降成O(n)」<br>「喔喔，這還真是滿大的突破，那段還滿吃緊的呢。你是怎麼做到的？」<br>「簡單啊，看我的code」</p>
<p>before :</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++i) &#123;</div><div class="line">  	process(target[i][j]);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>after :</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m * n; ++i) &#123;</div><div class="line"> 	process(*((target*)(&amp;target) + i));</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>我整個下午都在一直在想，我應該要尻他腦袋尻多少下才能讓他醒過來，然後下班時間就到了。</p>
<p>我把這個「最佳化」寫成一個範例給大家參考一下</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">process</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"value = "</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">const</span> <span class="keyword">int</span> row = <span class="number">5</span>;</div><div class="line">	<span class="keyword">const</span> <span class="keyword">int</span> col = <span class="number">6</span>;</div><div class="line">	<span class="keyword">int</span> var[row][col];</div><div class="line">	</div><div class="line">	<span class="keyword">int</span> value = <span class="number">0</span>;</div><div class="line"></div><div class="line">	<span class="comment">//for initialization propose, not part of demo</span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; row; ++i)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; ++j)</div><div class="line">			var[i][j] = value++;</div><div class="line">			</div><div class="line">	<span class="comment">//這就是他說的before</span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; row; ++i)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; ++j)</div><div class="line">			process(var[i][j]);</div><div class="line">      </div><div class="line">	<span class="comment">//這就是他說的 效能增進一個數量級的after</span></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row * col; ++i) &#123;</div><div class="line">		process(*((<span class="keyword">int</span>*)(&amp;var) + i));</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/12/02/for-some-stupid-memories/" data-id="cj3b76vpi000thzsibu6aoaes" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/04/09/how-to-use-cmake-with-git-to-easily-use-external-library/">如何利用CMake跟git來輕易的使用外部Library</a>
          </li>
        
          <li>
            <a href="/2017/02/13/python-trick-burst-attack-test/">Python Trick : Burst Attack Test</a>
          </li>
        
          <li>
            <a href="/2016/02/03/most-vexing-parsingc/">Most Vexing Parsing(C++)</a>
          </li>
        
          <li>
            <a href="/2015/08/23/markdown-text-color-support/">Markdown文字色彩支援</a>
          </li>
        
          <li>
            <a href="/2015/08/16/starry-sky/">Starry Sky</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>